<!DOCTYPE html>
<html lang="en">
{% extends "index.jinja2" %}
{% block body %}

<div class="tabbable tabs-left">
	<ul class="nav nav-tabs">
		<li class="active"><a href="#stats" data-toggle="tab">Statistics</a></li>
		<li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown">Change Menu<b class="caret"></b></a>
			<ul class="dropdown-menu">
				<li><a href="#addItem" data-toggle="tab">Add Menu Item</a></li>
				<li><a href="#editItem" data-toggle="tab">Edit Menu Item</a></li>
			</ul>
		</li>
	</ul>
	<div class="tab-content">
		<div class="tab-pane active" id="stats">
			<p>Statistics go here.</p>
		</div> <!-- tab-pane stats -->
		<div class="tab-pane" id="addItem">
			<form method="POST" action="add_menu_item">
				<fieldset>
					<legend>Add Menu Item</legend>
						<label>Item Name</label>
						<input id="itemName"  name="itemName" type="text" placeholder="...">
						<div class="control-group">
							<label class="control-label">Category</label>
							<div class="controls">
								<select name="category">
									<option value="Appetizers">Appetizers</option>
									<option value="Entrees">Entrees</option>
									<option value="Dessert">Dessert</option>
								</select>
							</div> <!-- controls -->
						</div> <!-- control-group -->
						<label>Description</label>
						<input id="desc" name="desc" type="text" placeholder="...">
						<label>Price</label>
						<input id="price" name="price" type="text" placeholder="xx.xx">
						<label class="checkbox">
							<input type="checkbox" name="vegetarian" class="vegetarian" id="vegetarian">Vegetarian
						</label>
						<button type="submit" id="submitBtn" class="btn" disabled="true">Submit</button>  
				</fieldset>
			</form>
		</div> <!-- tab-pane addItem -->
	<div class="tab-pane" id="editItem">
	  <p>Edit item here</p>
	</div> <!-- tab-pane editItem -->
</div> <!-- tabbable tabs-left -->

<script type="text/javascript">
$('#itemName').keyup(function() {
	testIfCanSubmit();
});
</script>

<script type="text/javascript">
$('#price').keyup(function() {
    var intRegex = /^\d+\.\d{2}$/;
    if(intRegex.test($('#price').val()))
	testIfCanSubmit();
});
</script>

<script type="text/javascript">
$('#desc').keyup(function() {
        testIfCanSubmit();
});
</script>


<script type="text/javascript">
function testIfCanSubmit() {
	if($('#itemName').val() == "" || $('#price').val() == "" || $('#desc').val() == "")
		$('#submitBtn').attr('disabled', true);
	else
		$('#submitBtn').attr('disabled', false); 

}
</script>
{% endblock body %}
