CREATE TABLE MENU_CATEGORIES
(
	catID INTEGER PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL
);

CREATE TABLE MENU
(
	menuID INTEGER PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	category INTEGER NOT NULL,
	price DOUBLE NOT NULL,
	isVeg BOOLEAN NOT NULL,
	isActive BOOLEAN NOT NULL,
	description TEXT,
	image TEXT,
	FOREIGN KEY (category) REFERENCES MENU_CATEGORIES(catID)
);

CREATE TABLE ORDERS
(
	orderID INTEGER PRIMARY KEY AUTOINCREMENT,
	menuItem INTEGER NOT NULL,
	tableNum INTEGER NOT NULL,
	groupNum INTEGER NOT NULL,
	isComplete BOOLEAN,
	comments TEXT,
	FOREIGN KEY (menuItem) REFERENCES MENU(menuID)
);

CREATE TABLE PAY_METHODS
(
	methodID INTEGER PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL
);

CREATE TABLE USER_TYPES
(
	typeID INTEGER PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL
);

CREATE TABLE TRANSACTIONS
(
	transactionID INTEGER PRIMARY KEY AUTOINCREMENT,
	amount DOUBLE NOT NULL,
	paymentMethod INTEGER NOT NULL,
	whenProcessed DATETIME,
	userID INTEGER,
	FOREIGN KEY (paymentMethod) REFERENCES PAY_METHODS(methodID),
	FOREIGN KEY (userID) REFERENCES USERS(userID)
);

CREATE TABLE USERS
(
	userID INTEGER PRIMARY KEY AUTOINCREMENT,
	userName TEXT NOT NULL,
	userType INTEGER NOT NULL,
	password TEXT,
	FOREIGN KEY (userType) REFERENCES USER_TYPES(typeID)
);
